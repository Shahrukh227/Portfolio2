(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[9175,3334],{83334:function(e,t,r){"use strict";r.r(t),r.d(t,{LoginWallModal:function(){return d}});var n=r(29901),a=r(23646),o=r(5782),s=r(50719),i=r(31635),l=r(47381),c=r(61250),u="https://accounts.lottiefiles.com",d=function(e){var t=e.closeCallback,r=e.description,d=e.redirectTo,f=e.showCloseButton,p=e.showLoading,x=e.showModal,h=e.title,b=(0,n.useCallback)((function(){t&&t()}),[t]),m=d?"".concat(u,"/register?return_to=").concat(encodeURIComponent(d)):"/register",v=d?"".concat(u,"/login?return_to=").concat(encodeURIComponent(d)):"/login",g=h||(0,c.jsxs)(c.Fragment,{children:["Letâ€™s get you an account first"," ",(0,c.jsx)("span",{role:"img","aria-label":"hands up",children:"ðŸ™Œ"})]}),w=r||"Please sign up or log in to continue. Weâ€™ve got thousands of free animations and a whole lot of handy tools just waiting for you!";return(0,c.jsxs)(o.ModalV2,{show:x,closeCallback:b,showCloseButton:f,paddingSize:"custom",customPadding:"0",size:"md",children:[p&&(0,c.jsx)(l.a,{type:"spinner"}),!p&&(0,c.jsxs)("div",{children:[(0,c.jsxs)("div",{className:"flex flex-col px-20 pt-12 pb-8 mx-auto bg-gray-50",children:[(0,c.jsx)(s.Z,{variant:"heading-1",darkest:!0,children:g}),(0,c.jsx)("div",{className:"pb-2"}),(0,c.jsx)(s.Z,{variant:"content",children:w})]}),(0,c.jsxs)("div",{className:"flex flex-col items-center justify-center p-8 mx-auto w-72",children:[(0,c.jsx)(i.r,{className:"flex w-full h-10",href:m,children:(0,c.jsx)(a.z,{text:"Sign up",fluid:!0})}),(0,c.jsx)("div",{className:"pt-4"}),(0,c.jsxs)(s.Z,{variant:"content",children:["Already have an account?",(0,c.jsx)(i.r,{className:"ml-1 text-actionPrimary",href:v,children:"Log in"})]})]})]})]})};t.default=d},77913:function(e,t,r){"use strict";r.d(t,{p:function(){return a}});var n=r(29901),a=function(){return{openWithEditor:(0,n.useCallback)((function(e){var t;window.open("".concat("https://editor.lottiefiles.com","?src=").concat(encodeURIComponent("".concat("https://editor-integration-workflow.lottiefiles.com","/edit/").concat(e.id,"?hash=").concat(e.editHash,"&filename=editor.json"))).concat(e.backgroundColor?"&bg_color=".concat(null===(t=e.backgroundColor)||void 0===t?void 0:t.replace("#","")):"","&hash=").concat(e.editHash,"&fileUrl=").concat(encodeURIComponent(e.fileObject.url),"&origin=workflow&save2workflow=true&fileId=").concat(e.id),"_blank")}),[])}}},58710:function(e,t,r){"use strict";r.r(t),r.d(t,{PreviewPage:function(){return we},PreviewPageContents:function(){return ge},default:function(){return je}});var n=r(26929),a=r(62195),o=r(90836),s=r(29901),i=r(80957),l=r(24161),c=r(48958),u=r(32780),d=r(99729),f=r(98326),p=r(99280),x=r(61250),h=function(e){var t=e.children,r=(0,d.a)().isAuthenticated,n=(0,l.useRecoilValue)(p.W),a=(0,l.useResetRecoilState)(p.W),o=(0,s.useCallback)((function(){a()}),[a]);return r?(0,x.jsx)(f.W5,{children:(0,x.jsxs)(u.xc,{children:[t,n&&(0,x.jsx)(c.UpgradeModal,{show:!0,onCloseCallback:o,workspaceId:n.workspaceId,source:n.source,additionalParams:n.additionalParams,from:n.from})]})}):(0,x.jsx)(x.Fragment,{children:t})},b=r(26766),m=r(83849),v=r.n(m),g=r(20016),w=function(e){var t=e.children,r=e.eventLabel,n=e.href,a=e.img,o=e.src;return(0,x.jsx)("a",{href:n,onClick:function(){r&&(0,b.Z9)(new b.Rd("button",r))},target:"_blank",rel:"noreferrer",className:v()("cursor-pointer mx-4"),children:(0,x.jsxs)("div",{className:"flex flex-col items-center",style:{width:"268px"},children:[(0,x.jsxs)("div",{className:"overflow-hidden rounded-xl",style:{width:"268px"},children:[a&&(0,x.jsx)("img",{src:o,style:{width:"268px"}}),!a&&(0,x.jsx)(g.J,{autoplay:!0,loop:!0,src:o})]}),(0,x.jsx)("h3",{className:"py-4 text-center text-gray-900 font-lf-semi-bold",children:t})]})})},j=r(77916),y=r(89303),k=r(51848),C=r(55312),E=r(24642),S=r.n(E),D=r(59715),L=r(62295),N=r(88406),I=r(41834),O=r(389),P=r(91358),U=r(78010),_=r(77913),F=r(61306),A=r(24042),R=r(13485);function Z(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function T(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?Z(Object(r),!0).forEach((function(t){(0,j.Z)(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Z(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}var M=function(e){return T({},{folderId:e.folderId,projectId:e.projectId})},z=function(e){var t=e.destination,r=e.editorKey,n=e.file,a=e.filename,i=e.isDotLottie,l=e.onStatusChange,c=e.source,u=e.status,d=(0,O.Db)(F.v9),f=(0,y.Z)(d,2)[1],p=(0,O.Db)(F.qM),h=(0,y.Z)(p,2)[1],m=(0,O.Db)(A.cn),v=(0,y.Z)(m,2)[1],g=(0,s.useState)(),w=g[0],j=g[1],k=(0,s.useState)(""),E=k[0],D=k[1],L=(0,s.useState)(""),N=L[0],Z=L[1],z=(0,s.useRef)(!1),V=(0,o.useRouter)(),W=n.type,q="project"===t.type||"folder"===t.type?t.workspaceId:"",B="project"===t.type||"folder"===t.type?t.projectId:"",H=(0,_.p)().openWithEditor,Q=V.query.source,K=(0,s.useCallback)((function(e){var t=new b.d4({reason:e,fileType:W,workspaceId:q,projectId:B,source:c});(0,b.Z9)(t)}),[W,B,c,q]),G=(0,s.useCallback)((0,C.Z)(S().mark((function e(){var t,r,a,o,s,i,c;return S().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,v();case 2:if(r=e.sent,null===(t=r.data)||void 0===t||!t.fileUploadRequestCreate){e.next=11;break}return a=r.data.fileUploadRequestCreate,o=a.fields,s=a.key,i=a.url,e.next=7,(0,R.Rl)({presignedPostData:{key:s,url:i,fields:o},file:n,onLoadStart:function(){l({status:P.xD.Uploading})},onLoad:function(){l({status:P.xD.Uploaded})},onError:function(){l({status:P.xD.Errored,errorMessage:U.Ue}),K(b.ni.SAVE_FAILED)}});case 7:return c=e.sent,j(c),D(s),e.abrupt("return");case 11:r.error&&(l({status:P.xD.Errored,errorMessage:U.Ue}),K(b.ni.SAVE_FAILED));case 12:case"end":return e.stop()}}),e)}))),[n,l,K,v]),J=(0,s.useCallback)((function(e,t){var r=null==t?void 0:t.fileUpdate;return null!=r&&r.versionId&&Z(r.versionId),e&&!z.current?T(T({},e),r):r}),[]),X=(0,O.mU)({query:A.Rd,variables:{key:E},pause:!E},J),Y=(0,y.Z)(X,1)[0];(0,s.useEffect)((function(){u===P.xD.Waiting&&G()}),[u,G]);var $=(0,s.useCallback)((function(e){var t=e.id;"editor"===Q?H(e):V.push("/animation/".concat(t))}),[H,Q,V]);return(0,s.useEffect)((function(){var e=!0,n=function(){var n=(0,C.Z)(S().mark((function n(){var o,s,i,u,d,p,x;return S().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,f({input:T({name:a,fileKey:E,editorKey:r,fileVersionId:N},M(t))});case 2:if(s=n.sent,e){n.next=5;break}return n.abrupt("return");case 5:if(null===(o=s.data)||void 0===o||!o.fileCreate){n.next=12;break}return d=null===(i=s.data)||void 0===i?void 0:i.fileCreate,p=d.id,x=new b.mw({fileId:p,fileType:W,source:c,projectId:B,workspaceId:q}),(0,b.Z9)(x),l({status:P.xD.Succeeded}),$(null===(u=s.data)||void 0===u?void 0:u.fileCreate),n.abrupt("return");case 12:s.error&&(l({status:P.xD.Errored,errorMessage:U.Ue}),K(b.ni.SAVE_FAILED));case 13:case"end":return n.stop()}}),n)})));return function(){return n.apply(this,arguments)}}();return u===P.xD.Uploaded&&N&&E&&n(),function(){e=!1}}),[u,B,q,N,E,a,W,c,$,t,i,f,K,l,r]),(0,s.useEffect)((function(){if(u===P.xD.Uploaded){var e=setTimeout((0,C.Z)(S().mark((function e(){var r;return S().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(u===P.xD.Uploaded){e.next=2;break}return e.abrupt("return");case 2:return e.prev=2,e.next=5,h({input:T({fileKey:E,name:a},M(t))});case 5:if(!(r=e.sent).error){e.next=10;break}return l({status:P.xD.Errored,errorMessage:U.Ue}),K(b.ni.SAVE_FAILED),e.abrupt("return");case 10:r.data&&($(r.data.fileCreateFallback),l({status:P.xD.Succeeded})),e.next=17;break;case 13:e.prev=13,e.t0=e.catch(2),l({status:P.xD.Errored,errorMessage:U.Ue}),K(b.ni.SAVE_FAILED);case 17:case"end":return e.stop()}}),e,null,[[2,13]])}))),I.xC);return function(){clearTimeout(e)}}return function(){}}),[u,E,N,t,a,V,l,K,h,$]),(0,s.useEffect)((function(){Y.error&&u!==P.xD.Errored&&(l({status:P.xD.Errored,errorMessage:U.Ue}),K(b.ni.SAVE_FAILED))}),[u,Y.error,K,l]),(0,s.useEffect)((function(){return function(){w&&w.abort()}}),[w]),(0,x.jsx)(x.Fragment,{})},V=r(94464),W=r(37576),q=r(34916),B=function(e){var t=e.isUploadInProgress,r=e.onStageFile,n=e.source,a=(0,W.p)(),o=(0,s.useCallback)((function(e,t){if(e){var n=(0,P.hQ)({file:e,source:t});r({file:n})}}),[r]),i=(0,s.useCallback)((function(e,t){if(e.length>0)return o(e[0]),void(e.length>1&&(null==a||a.pushInfo(U.Ie)));if(t.length>0){var r=t.find((function(e){var t;return 1===e.errors.length&&"too-many-files"===(null===(t=e.errors[0])||void 0===t?void 0:t.code)}));if(r)return o(r.file),void(null==a||a.pushInfo(U.Ie));null==a||a.pushError(U.hh)}}),[o,a]),l=(0,s.useCallback)((function(e){e&&o(e,q.yx.URL)}),[o]);return(0,x.jsx)(V.i,{isUploading:t,maxFiles:1,dropzoneVerb:"editor"===n?"Edit":"Preview",pathSelectorModalTitle:"Select save location",urlInputVerb:"editor"===n?"Edit":"Preview",showPathSelector:!0,dropzoneRounded:!0,onDropZoneChange:i,onUploadFromUrlChange:l})},H=r(10547),Q=r(83334),K=r(20277),G=r(23646),J=r(92703),X=r(50719),Y=r(47381),$=r(93230),ee=r(59948),te=r(12379),re=r(48319),ne=function(e){var t=e.backgroundColor,r=e.dataUrl,n=e.filename,a=e.isDotLottie,o=e.isSaving,i=e.onClose,c=e.onFilenameChange,u=e.onSaveClick,d=e.show,f=e.source,p=(0,l.useRecoilValue)(re.QJ),h=(0,s.useCallback)((function(e){o||c(e)}),[o,c]),b=(0,s.useCallback)((function(){o||null==i||i()}),[o,i]);return(0,x.jsx)(J.H,{titleCssClass:"text-xl font-lf-semi-bold",title:"Save animation to workspace",show:d,closeCallback:b,titleSeparator:!1,contentPadding:"p-6 pt-0",headerPadding:"p-6 pb-5",size:"upload",footerPadding:"p-6 pt-0",footerSeparator:!1,contentYScroll:!1,minHeight:"350px",closeOnEscape:!1,footer:(0,x.jsxs)("div",{className:"flex space-x-2",children:[(0,x.jsx)(G.z,{text:"Cancel",customClasses:"text-base ml-auto font-lf-semi-bold hover:bg-gray-50 py-2 px-4 rounded-xl",onClick:i}),(0,x.jsx)(G.z,{showLoader:o,text:"editor"===f?"Save & open in Editor":"Save",customClasses:"text-base font-lf-semi-bold text-white bg-teal-200 hover:bg-actionPrimaryHover disabled:opacity-50 py-2 px-4 rounded-xl disabled:cursor-not-allowed",onClick:u,disabled:!r||!p})]}),children:(0,x.jsxs)("div",{className:"flex flex-col h-full mt-1 overflow-hidden",children:[(0,x.jsx)(ee.Q,{destination:p,verb:"save"}),(0,x.jsxs)("div",{className:"flex flex-col flex-grow h-full space-y-4",children:[(0,x.jsxs)("div",{className:"flex mb-3 -mr-2",children:[(0,x.jsx)("div",{className:"w-full max-w-[250px]",children:(0,x.jsx)(K.T,{value:n,onChange:h})}),(0,x.jsx)("div",{className:"w-full max-w-[250px] ml-auto",children:(0,x.jsx)($.F,{modalTitle:"Select save location"})})]}),(0,x.jsxs)("div",{className:v()("my-8 flex flex-col flex-grow h-full max-h-[359px]",{"items-center space-y-6 justify-center":!r}),children:[!r&&(0,x.jsxs)(x.Fragment,{children:[(0,x.jsx)(Y.a,{type:"lottie",size:"md",loaderOnly:!0}),(0,x.jsx)(X.Z,{color:"gray",darker:!0,children:"Fetching..."})]}),r&&(0,x.jsx)(te.c,{backgroundColor:t,isDotLottie:Boolean(a),file:r})]})]})]})})},ae=r(68366),oe=r(70353),se=r(18547),ie=r(58777),le=["query"];function ce(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function ue(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?ce(Object(r),!0).forEach((function(t){(0,j.Z)(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):ce(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}var de=(0,N.default)((0,C.Z)(S().mark((function e(){return S().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Promise.all([r.e(7832),r.e(5914)]).then(r.bind(r,75914)));case 1:case"end":return e.stop()}}),e)}))),{ssr:!1,loadableGenerated:{webpack:function(){return[75914]},modules:["../components/page/preview/preview-page-upload-control.tsx -> @/components/features/upload/upload-control"]}}),fe=function(){var e=(0,C.Z)(S().mark((function e(t){return S().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",new Promise((function(e,r){var n=new FileReader;n.onload=function(t){var n;null!==(n=t.target)&&void 0!==n&&n.result?e(t.target.result):r(new Error("Failed to read file"))},n.readAsDataURL(t)})));case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),pe=function(){var e=(0,d.a)().isAuthenticated,t=(0,o.useRouter)(),r=t.query,n=(0,k.Z)(t,le),a=(0,s.useState)(!1),i=a[0],c=a[1],u=(0,l.useRecoilState)(ie.s),f=(0,y.Z)(u,2),h=f[0],m=f[1],g=(0,D.SS)(L.AD.PREVIEW_PAGE_V2),w=r.fileUrl,j=r.name,E=r.key,N=r.utm_medium,_=(0,s.useState)(null),A=_[0],Z=_[1],T=(0,s.useState)(""),M=T[0],V=T[1],K=(0,s.useState)(null),G=K[0],J=K[1],X=(0,l.useRecoilValue)(re.QJ),Y=(0,s.useState)(),$=Y[0],ee=Y[1],te=(0,s.useState)(!1),ce=te[0],pe=te[1],xe=(0,s.useState)(!1),he=xe[0],be=xe[1],me=(0,s.useState)(),ve=me[0],ge=me[1],we=(0,W.p)(),je=(0,l.useRecoilState)(re._b),ye=(0,y.Z)(je,2),ke=ye[0],Ce=ye[1],Ee=(0,D.SS)(L.AD.ENABLE_RELOTTIE_VALIDATE).on,Se=(0,D.SS)(L.AD.ENABLE_VIDEO_TO_LOTTIE),De=(0,s.useState)(!1),Le=De[0],Ne=De[1],Ie=(0,l.useSetRecoilState)(p.W),Oe=r.source,Pe=r.bg_color,Ue=(0,s.useState)(!1),_e=Ue[0],Fe=Ue[1],Ae=Pe?"#".concat(Pe):void 0,Re="folder"===(null==X?void 0:X.type)||"project"===(null==X?void 0:X.type)?X.workspaceId:"",Ze=(0,se.F)(Re),Te=Ze.hasFileLimit,Me=Ze.willExceedFileLimit,ze=(0,O.Db)(F.Q2),Ve=(0,y.Z)(ze,2)[1],We=(0,s.useCallback)((function(e,t,r){var n=new b.d4({reason:e,hasBreakingNodes:t,errors:r});(0,b.Z9)(n)}),[]),qe=(0,s.useCallback)(function(){var e=(0,C.Z)(S().mark((function e(t){var r,n,a;return S().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if((0,P.A6)((null==t?void 0:t.type)||"none")||"lottie"===(null==t?void 0:t.name.split(".").slice(-1)[0])){e.next=5;break}return r=U.De,null==we||we.pushError(r),We(b.ni.WRONG_FORMAT),e.abrupt("return",!1);case 5:if(!((null==t?void 0:t.size)>I.Sy)){e.next=10;break}return n=U.ft,null==we||we.pushError(n),We(b.ni.FILE_SIZE),e.abrupt("return",!1);case 10:if(!Ee){e.next=18;break}return e.next=13,(0,oe.NH)(t);case 13:if((a=e.sent).ok){e.next=18;break}return null==we||we.pushError(a.status),"error"===a.status&&We(b.ni.VALIDATION_FAILED,a.hasBreakingNodes,a.errors),e.abrupt("return",!1);case 18:return e.abrupt("return",!0);case 19:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),[We,Ee,we]),Be=(0,s.useMemo)((function(){if("string"==typeof w)try{var e=new URL(w);if("https:"===e.protocol||"http:"===e.protocol)return w}catch(e){}return""}),[w]),He=window.location.href,Qe=(0,s.useCallback)(function(){var e=(0,C.Z)(S().mark((function e(t){var a;return S().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!t||!t.blob){e.next=11;break}return e.next=3,Ve({filename:t.filename});case 3:if(!(a=e.sent).data){e.next=11;break}return m(!0),e.next=8,fetch(a.data.workflowTempFileUploadRequestCreate.preSignedUploadURL,{method:"put",body:t.blob,headers:{"Content-Type":t.blob.type}});case 8:e.sent.ok&&n.push({query:ue(ue({},r),{},{fileUrl:a.data.workflowTempFileUploadRequestCreate.publicReadURL},E?{key:E}:{})}),m(!1);case 11:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),[Ve,m,n,r,E]),Ke=(0,s.useCallback)((function(e){var t=e.file,r=e.url;Z(r),V(j?j.toString():function(e){var t=e.lastIndexOf(".");return-1===t?e:e.substring(0,t)}(t.filename)),ge(null),J(t),Te&&Me(1)||g.off||"creator"===N||!X?((0,b.Z9)(new b.xK({source:Oe,workspaceId:Re||"",destination:(null==X?void 0:X.type)||""})),be(!0),pe(!1),Fe(!1)):(Fe(!0),ee(X),pe(!0))}),[X,Te,g.off,j,Oe,N,Me,Re]),Ge=(0,s.useCallback)(function(){var t=(0,C.Z)(S().mark((function t(r){var n,a;return S().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if((n=r.file).blob){t.next=3;break}return t.abrupt("return");case 3:return t.next=5,qe(n.blob);case 5:if(t.sent){t.next=8;break}return t.abrupt("return");case 8:if(e){t.next=12;break}return t.next=11,Qe(n);case 11:return t.abrupt("return");case 12:return t.next=14,fe(n.blob);case 14:a=t.sent,Ke({file:n,url:a});case 16:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),[e,Qe,qe,Ke]),Je=(0,s.useCallback)(function(){var e=(0,C.Z)(S().mark((function e(t){var r;return S().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if((r=t.file).blob){e.next=3;break}return e.abrupt("return");case 3:if(!(0,R.BM)(r.blob)){e.next=6;break}return ge(r.blob),e.abrupt("return");case 6:Ge({file:r});case 7:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),[Ge]),Xe=(0,s.useCallback)((function(){c(!1)}),[]),Ye=(0,s.useCallback)((function(e){V(e)}),[]),$e=(0,s.useCallback)((function(){Z(""),V(""),ge(null),J(null),pe(!1),be(!1),n.push({query:ue(ue({},r),{},{fileUrl:""},E?{key:E}:{})})}),[n,r,E]),et=(0,s.useCallback)((function(){G&&X&&(Te&&Me(1)?Re&&Ie({source:L.pj.FILE_UPLOAD_LIMIT_EXCEEDED,workspaceId:Re}):(ee(X),pe(!0)))}),[G,X,Te,Me,Ie,Re]),tt=(0,s.useCallback)(function(){var e=(0,C.Z)(S().mark((function e(t){return S().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:J((function(e){return ue(ue({},e),t)})),P.Ud.includes(t.status)&&pe(!1),t.status===P.xD.Errored&&(Fe(!1),null==we||we.pushError(t.errorMessage));case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),[we]);(0,s.useEffect)((function(){var t=!0,r=function(){t=!1};if(!Be)return r;if(!e)return c(!0),r;var n=function(){var e=(0,C.Z)(S().mark((function e(){var r,n,a;return S().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,(0,R.WP)(Be);case 2:if(r=e.sent,!(0,R.BM)(r)){e.next=6;break}return ge(r),e.abrupt("return");case 6:if(qe(r)){e.next=8;break}return e.abrupt("return");case 8:return e.next=10,fe(r);case 10:n=e.sent,t&&(a=(0,P.hQ)({file:r,source:q.yx.URL}),Ke({url:n,file:a}));case 12:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return n(),r}),[Be,e,qe,Ke]);var rt=(0,s.useCallback)((function(e){var t=e[0];Ge({file:t}),ge(null)}),[Ge]),nt=(0,s.useCallback)((function(e){null==we||we.pushError(e),$e()}),[we,$e]),at=(0,s.useCallback)((function(){e?(Ce(!1),Ne(!0)):c(!0)}),[e,Ce]);return(0,H.P)({file:ve,onError:nt,onQueueZipEntries:rt}),(0,x.jsxs)("div",{className:v()({"pointer-events-none":h}),children:[(0,x.jsx)(B,{isUploadInProgress:_e,source:Oe,onStageFile:Je,hidePathSelectorTooltip:!1}),!e&&i&&(0,x.jsx)(Q.LoginWallModal,{redirectTo:He,showModal:i,closeCallback:Xe}),e&&he&&(0,x.jsx)(ne,{backgroundColor:Ae,source:Oe,dataUrl:A,isSaving:ce,filename:M,isDotLottie:null==G?void 0:G.isDotLottie,show:he&&e,onClose:$e,onFilenameChange:Ye,onSaveClick:et}),ce&&void 0!==(null==G?void 0:G.blob)&&null!==G.blob&&$&&(0,x.jsx)(z,{editorKey:E,destination:$,file:G.blob,filename:M,status:G.status,isDotLottie:G.isDotLottie,source:G.source,onStatusChange:tt}),Se.on&&(0,x.jsx)("div",{className:"w-full mt-1 mb-2 text-center",children:(0,x.jsx)("button",{type:"button",onClick:at,className:"text-sm text-gray-600 underline hover:text-actionPrimaryHover focus:outline-none",children:"Convert video and image sequences to Lottie"})}),(0,x.jsx)(ae.c,{children:(0,x.jsx)(de,{showDropContainer:!1,showUploadModal:!ke&&Le,isVideo:!0,onUploadModalClose:function(){return Ne(!1)}})})]})},xe=r(99897),he=r(31635),be="Preview Lottie animation",me="Easily edit & customize Lottie animations",ve=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"default";return"editor"===e?me:be},ge=function(){var e="".concat("https://lottiefiles.com"),t=(0,o.useRouter)().query.source;return(0,x.jsxs)("div",{className:"relative",children:[(0,x.jsxs)("div",{className:"pb-12 bg-white px-4 md:px-0",children:[(0,x.jsxs)("div",{className:"flex items-center justify-between p-4",children:[(0,x.jsx)(he.r,{href:"/",className:"block h-full leading-none",children:(0,x.jsx)(a.default,{src:i.Z,width:"180",height:"36"})}),(0,x.jsx)(he.r,{href:"/",className:"flex items-center px-4 py-2 text-base text-center border border-gray-300 rounded-md hover:border-gray-600 font-lf-bold",textCssColors:"text-gray-900",children:"Go to Dashboard"})]}),(0,x.jsxs)("div",{className:"flex flex-col items-center pb-8 mx-auto text-center max-w-[790px]",children:[(0,x.jsxs)("h1",{className:"text-4xl text-gray-900 font-lf-bold",children:[ve(t)," "]}),"editor"!==t&&(0,x.jsx)("h2",{className:"text-xl text-gray-500 font-lf-regular mt-2",children:"Save this animation to your workspace to preview it, test it across platforms, customize its colors, optimize its size, host it on our CDN and so much more."})]}),(0,x.jsx)("div",{className:"pb-3 mx-auto w-full max-w-[790px]",children:(0,x.jsx)(pe,{})}),(0,x.jsxs)("div",{className:"flex w-full mx-auto bg-green-100 rounded-lg max-w-[790px]",children:[(0,x.jsx)("div",{className:"flex items-center justify-center w-16 bg-green-300 rounded-l-lg",children:(0,x.jsx)(xe.J,{name:"lock-fill-2",color:"text-white",medium:!0})}),(0,x.jsx)("p",{className:"p-3 text-xs text-green-700",children:"Files you open here are only accessible to you and are securely stored. You can choose to make your animations public by publishing them."})]})]}),(0,x.jsxs)("div",{className:"w-full pt-12 pb-8 mx-auto h-2/5",children:[(0,x.jsx)("div",{className:"w-5/6 pb-12 mx-auto text-2xl text-center text-gray-900 font-lf-bold md:w-3/5",children:"Handy tools and features for your motion design workflow"}),(0,x.jsxs)("div",{className:"flex flex-wrap justify-center pb-4 mx-auto space-y-4 md:space-y-0 xl:w-full md:w-3/4 sm:w-2/3",children:[(0,x.jsx)(w,{href:"".concat(e,"/plugins/after-effects"),src:"/images/preview-page/AE.png",eventLabel:"preview page - after effects card",img:!0,children:(0,x.jsxs)("div",{children:[(0,x.jsx)("p",{className:"text-xs text-gray-500 font-lf-regular",children:"LottieFiles for After Effects"}),(0,x.jsx)("p",{children:" Save your animation creations in After Effects directly to your workspace"})]})}),(0,x.jsx)(w,{href:"".concat(e,"/plugins/figma"),src:"/images/preview-page/Figma.png",eventLabel:"preview page - figma card",img:!0,children:(0,x.jsxs)("div",{children:[(0,x.jsx)("p",{className:"text-xs text-gray-500 font-lf-regular",children:"LottieFiles for Figma"}),(0,x.jsx)("p",{children:" Create and save production-ready animations to your workspace within Figma"})]})}),(0,x.jsx)(w,{href:"".concat(e,"/features/optimize-lottie"),src:"https://lottie.host/35a5f1e1-6cf3-4115-8ccb-41b417491f83/LmUsWNVBfY.json",eventLabel:"preview page - optimized lottie card",children:(0,x.jsxs)("div",{children:[(0,x.jsx)("p",{className:"text-xs text-gray-500 font-lf-regular",children:"Lottie Optimizer"}),(0,x.jsx)("p",{children:"Significantly reduce animation file sizes for faster load speeds"})]})}),(0,x.jsx)(w,{href:"".concat(e,"/features/color-palette"),src:"https://assets5.lottiefiles.com/packages/lf20_7jpkcvlb.json",eventLabel:"preview page - color palette card",children:(0,x.jsxs)("div",{children:[(0,x.jsx)("p",{className:"text-xs text-gray-500 font-lf-regular",children:"Color Palette"}),(0,x.jsx)("p",{children:"Customize animations to your preferences or brand colors"})]})})]})]}),(0,x.jsx)("div",{className:"flex justify-center pb-12",children:(0,x.jsx)(he.r,{href:"".concat(e,"/features"),target:"_blank",children:(0,x.jsx)(G.z,{text:"See more features",fontClasses:"font-lf-bold",padding:"py-2 px-4"})})})]})},we=function(){return(0,x.jsxs)(x.Fragment,{children:[(0,x.jsx)(n.default,{children:(0,x.jsx)("title",{children:"Preview & Test Lottie Animations on Web, iOS and Android"})}),(0,x.jsx)(ge,{})]})};we.getLayout=function(e){return(0,x.jsx)(h,{children:e})},we.showUnauthorizedView=!1,we.shouldHaveAccessToWorkflow=!1;var je=we},33657:function(e,t,r){(window.__NEXT_P=window.__NEXT_P||[]).push(["/preview",function(){return r(58710)}])}},function(e){e.O(0,[6627,9655,8176,6288,2762,4164,9774,2888,179],(function(){return t=33657,e(e.s=t);var t}));var t=e.O();_N_E=t}]);